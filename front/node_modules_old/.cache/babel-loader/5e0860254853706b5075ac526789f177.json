{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Menu/menu';\nimport { css } from '@patternfly/react-styles';\nimport topOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_top_offset';\nimport rightOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_m_left_right_offset';\nimport leftOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_left_offset';\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport AngleLeftIcon from '@patternfly/react-icons/dist/esm/icons/angle-left-icon';\nimport CheckIcon from '@patternfly/react-icons/dist/esm/icons/check-icon';\nimport { Checkbox } from '../Checkbox';\nimport { MenuContext, MenuItemContext } from './MenuContext';\nimport { MenuItemAction } from './MenuItemAction';\nimport { canUseDOM } from '../../helpers/util';\nimport { useIsomorphicLayoutEffect } from '../../helpers/useIsomorphicLayout';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\nconst FlyoutContext = React.createContext({\n  direction: 'right'\n});\nconst MenuItemBase = _a => {\n  var {\n      children,\n      className,\n      itemId = null,\n      to,\n      hasCheck = false,\n      isActive = null,\n      isFavorited = null,\n      isLoadButton = false,\n      isLoading = false,\n      flyoutMenu,\n      direction,\n      description = null,\n      onClick = () => {},\n      component = 'button',\n      isDisabled = false,\n      isExternalLink = false,\n      isSelected = null,\n      isFocused,\n      isDanger = false,\n      icon,\n      actions,\n      onShowFlyout,\n      drilldownMenu,\n      isOnPath,\n      innerRef\n    } = _a,\n    props = __rest(_a, [\"children\", \"className\", \"itemId\", \"to\", \"hasCheck\", \"isActive\", \"isFavorited\", \"isLoadButton\", \"isLoading\", \"flyoutMenu\", \"direction\", \"description\", \"onClick\", \"component\", \"isDisabled\", \"isExternalLink\", \"isSelected\", \"isFocused\", \"isDanger\", \"icon\", \"actions\", \"onShowFlyout\", \"drilldownMenu\", \"isOnPath\", \"innerRef\"]);\n  const {\n    menuId,\n    parentMenu,\n    onSelect,\n    onActionClick,\n    activeItemId,\n    selected,\n    drilldownItemPath,\n    onDrillIn,\n    onDrillOut,\n    flyoutRef,\n    setFlyoutRef,\n    disableHover,\n    role: menuRole\n  } = React.useContext(MenuContext);\n  let Component = to ? 'a' : component;\n  if (hasCheck && !to) {\n    Component = 'label';\n  }\n  const [flyoutTarget, setFlyoutTarget] = React.useState(null);\n  const flyoutContext = React.useContext(FlyoutContext);\n  const [flyoutXDirection, setFlyoutXDirection] = React.useState(flyoutContext.direction);\n  const ref = React.useRef();\n  const flyoutVisible = ref === flyoutRef;\n  const hasFlyout = flyoutMenu !== undefined;\n  const showFlyout = show => {\n    if (!flyoutVisible && show) {\n      setFlyoutRef(ref);\n    } else if (flyoutVisible && !show) {\n      setFlyoutRef(null);\n    }\n    onShowFlyout && show && onShowFlyout();\n  };\n  useIsomorphicLayoutEffect(() => {\n    if (hasFlyout && ref.current && canUseDOM) {\n      const flyoutMenu = ref.current.lastElementChild;\n      if (flyoutMenu && flyoutMenu.classList.contains(styles.menu)) {\n        const origin = ref.current.getClientRects()[0];\n        const rect = flyoutMenu.getClientRects()[0];\n        if (origin && rect) {\n          const spaceLeftLeft = origin.x - rect.width;\n          const spaceLeftRight = window.innerWidth - origin.x - origin.width - rect.width;\n          let xDir = flyoutXDirection;\n          if (spaceLeftRight < 0 && xDir !== 'left') {\n            setFlyoutXDirection('left');\n            xDir = 'left';\n          } else if (spaceLeftLeft < 0 && xDir !== 'right') {\n            setFlyoutXDirection('right');\n            xDir = 'right';\n          }\n          let xOffset = 0;\n          if (spaceLeftLeft < 0 && spaceLeftRight < 0) {\n            xOffset = xDir === 'right' ? -spaceLeftRight : -spaceLeftLeft;\n          }\n          if (xDir === 'left') {\n            flyoutMenu.classList.add(styles.modifiers.left);\n            flyoutMenu.style.setProperty(rightOffset.name, `-${xOffset}px`);\n          } else {\n            flyoutMenu.style.setProperty(leftOffset.name, `-${xOffset}px`);\n          }\n          const spaceLeftBot = window.innerHeight - origin.y - rect.height;\n          const spaceLeftTop = window.innerHeight - rect.height;\n          if (spaceLeftTop < 0 && spaceLeftBot < 0) {\n            // working idea: page can usually scroll down, but not up\n            // TODO: proper scroll buttons\n          } else if (spaceLeftBot < 0) {\n            flyoutMenu.style.setProperty(topOffset.name, `${spaceLeftBot}px`);\n          }\n        }\n      }\n    }\n  }, [flyoutVisible, flyoutMenu]);\n  React.useEffect(() => {\n    setFlyoutXDirection(flyoutContext.direction);\n  }, [flyoutContext]);\n  React.useEffect(() => {\n    if (flyoutTarget) {\n      if (flyoutVisible) {\n        const flyoutMenu = flyoutTarget.nextElementSibling;\n        const flyoutItems = Array.from(flyoutMenu.getElementsByTagName('UL')[0].children).filter(el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider')));\n        flyoutItems[0].firstChild.focus();\n      } else {\n        flyoutTarget.focus();\n      }\n    }\n  }, [flyoutVisible, flyoutTarget]);\n  const handleFlyout = event => {\n    const key = event.key;\n    const target = event.target;\n    const type = event.type;\n    if (key === ' ' || key === 'Enter' || key === 'ArrowRight' || type === 'click') {\n      event.stopPropagation();\n      event.preventDefault();\n      if (!flyoutVisible) {\n        showFlyout(true);\n        setFlyoutTarget(target);\n      }\n    }\n    if (key === 'Escape' || key === 'ArrowLeft') {\n      if (flyoutVisible) {\n        event.stopPropagation();\n        showFlyout(false);\n      }\n    }\n  };\n  const onItemSelect = (event, onSelect) => {\n    // Trigger callback for Menu onSelect\n    onSelect && onSelect(event, itemId);\n    // Trigger callback for item onClick\n    onClick && onClick(event);\n  };\n  const _isOnPath = isOnPath && isOnPath || drilldownItemPath && drilldownItemPath.includes(itemId) || false;\n  let drill;\n  if (direction) {\n    if (direction === 'down') {\n      drill = event => onDrillIn && onDrillIn(event, menuId, typeof drilldownMenu === 'function' ? drilldownMenu().props.id : drilldownMenu.props.id, itemId);\n    } else {\n      drill = event => onDrillOut && onDrillOut(event, parentMenu, itemId);\n    }\n  }\n  let additionalProps = {};\n  if (Component === 'a') {\n    additionalProps = {\n      href: to,\n      'aria-disabled': isDisabled ? true : null,\n      // prevent invalid 'disabled' attribute on <a> tags\n      disabled: null\n    };\n  } else if (Component === 'button') {\n    additionalProps = {\n      type: 'button'\n    };\n  }\n  if (isOnPath) {\n    additionalProps['aria-expanded'] = true;\n  } else if (hasFlyout) {\n    additionalProps['aria-haspopup'] = 'menu';\n    additionalProps['aria-expanded'] = flyoutVisible;\n  }\n  const getAriaCurrent = () => {\n    if (isActive !== null) {\n      if (isActive) {\n        return 'page';\n      } else {\n        return null;\n      }\n    } else if (itemId !== null && activeItemId !== null) {\n      return itemId === activeItemId;\n    }\n    return null;\n  };\n  const getIsSelected = () => {\n    if (isSelected !== null) {\n      return isSelected;\n    } else if (selected !== null && itemId !== null) {\n      return Array.isArray(selected) && selected.includes(itemId) || itemId === selected;\n    }\n    return false;\n  };\n  const onMouseOver = () => {\n    if (disableHover) {\n      return;\n    }\n    if (hasFlyout) {\n      showFlyout(true);\n    } else {\n      setFlyoutRef(null);\n    }\n  };\n  const isSelectMenu = menuRole === 'listbox';\n  return React.createElement(\"li\", Object.assign({\n    className: css(styles.menuListItem, isDisabled && styles.modifiers.disabled, _isOnPath && styles.modifiers.currentPath, isLoadButton && styles.modifiers.load, isLoading && styles.modifiers.loading, isFocused && styles.modifiers.focus, isDanger && styles.modifiers.danger, className),\n    onMouseOver: onMouseOver\n  }, flyoutMenu && {\n    onKeyDown: handleFlyout\n  }, {\n    ref: ref,\n    role: !hasCheck ? 'none' : 'menuitem'\n  }, props), React.createElement(GenerateId, null, randomId => React.createElement(Component, Object.assign({\n    tabIndex: -1,\n    className: css(styles.menuItem, getIsSelected() && !hasCheck && styles.modifiers.selected, className),\n    \"aria-current\": getAriaCurrent()\n  }, !hasCheck && {\n    disabled: isDisabled\n  }, !hasCheck && !flyoutMenu && {\n    role: isSelectMenu ? 'option' : 'menuitem'\n  }, !hasCheck && !flyoutMenu && isSelectMenu && {\n    'aria-selected': getIsSelected()\n  }, {\n    ref: innerRef\n  }, !hasCheck && {\n    onClick: event => {\n      onItemSelect(event, onSelect);\n      drill && drill(event);\n      flyoutMenu && handleFlyout(event);\n    }\n  }, hasCheck && {\n    htmlFor: randomId\n  }, additionalProps), React.createElement(\"span\", {\n    className: css(styles.menuItemMain)\n  }, direction === 'up' && React.createElement(\"span\", {\n    className: css(styles.menuItemToggleIcon)\n  }, React.createElement(AngleLeftIcon, {\n    \"aria-hidden\": true\n  })), icon && React.createElement(\"span\", {\n    className: css(styles.menuItemIcon)\n  }, icon), hasCheck && React.createElement(\"span\", {\n    className: css('pf-c-menu__item-check')\n  }, React.createElement(Checkbox, {\n    id: randomId,\n    component: \"span\",\n    isChecked: isSelected || false,\n    onChange: event => onItemSelect(event, onSelect),\n    isDisabled: isDisabled\n  })), React.createElement(\"span\", {\n    className: css(styles.menuItemText)\n  }, children), isExternalLink && React.createElement(\"span\", {\n    className: css(styles.menuItemExternalIcon)\n  }, React.createElement(ExternalLinkAltIcon, {\n    \"aria-hidden\": true\n  })), (flyoutMenu || direction === 'down') && React.createElement(\"span\", {\n    className: css(styles.menuItemToggleIcon)\n  }, React.createElement(AngleRightIcon, {\n    \"aria-hidden\": true\n  })), getIsSelected() && React.createElement(\"span\", {\n    className: css(styles.menuItemSelectIcon)\n  }, React.createElement(CheckIcon, {\n    \"aria-hidden\": true\n  }))), description && direction !== 'up' && React.createElement(\"span\", {\n    className: css(styles.menuItemDescription)\n  }, React.createElement(\"span\", null, description)))), flyoutVisible && React.createElement(MenuContext.Provider, {\n    value: {\n      disableHover\n    }\n  }, React.createElement(FlyoutContext.Provider, {\n    value: {\n      direction: flyoutXDirection\n    }\n  }, flyoutMenu)), typeof drilldownMenu === 'function' ? drilldownMenu() : drilldownMenu, React.createElement(MenuItemContext.Provider, {\n    value: {\n      itemId,\n      isDisabled\n    }\n  }, actions, isFavorited !== null && React.createElement(MenuItemAction, {\n    icon: \"favorites\",\n    isFavorited: isFavorited,\n    \"aria-label\": isFavorited ? 'starred' : 'not starred',\n    onClick: event => onActionClick(event, itemId),\n    tabIndex: -1,\n    actionId: \"fav\"\n  })));\n};\nexport const MenuItem = React.forwardRef((props, ref) => React.createElement(MenuItemBase, Object.assign({}, props, {\n  innerRef: ref\n})));\nMenuItem.displayName = 'MenuItem';","map":{"version":3,"sources":["../../../../src/components/Menu/MenuItem.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Menu/menu';\nimport { css } from '@patternfly/react-styles';\nimport topOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_top_offset';\nimport rightOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_m_left_right_offset';\nimport leftOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_left_offset';\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport AngleLeftIcon from '@patternfly/react-icons/dist/esm/icons/angle-left-icon';\nimport CheckIcon from '@patternfly/react-icons/dist/esm/icons/check-icon';\nimport { Checkbox } from '../Checkbox';\nimport { MenuContext, MenuItemContext } from './MenuContext';\nimport { MenuItemAction } from './MenuItemAction';\nimport { canUseDOM } from '../../helpers/util';\nimport { useIsomorphicLayoutEffect } from '../../helpers/useIsomorphicLayout';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\nconst FlyoutContext = React.createContext({\n    direction: 'right'\n});\nconst MenuItemBase = (_a) => {\n    var { children, className, itemId = null, to, hasCheck = false, isActive = null, isFavorited = null, isLoadButton = false, isLoading = false, flyoutMenu, direction, description = null, onClick = () => { }, component = 'button', isDisabled = false, isExternalLink = false, isSelected = null, isFocused, isDanger = false, icon, actions, onShowFlyout, drilldownMenu, isOnPath, innerRef } = _a, props = __rest(_a, [\"children\", \"className\", \"itemId\", \"to\", \"hasCheck\", \"isActive\", \"isFavorited\", \"isLoadButton\", \"isLoading\", \"flyoutMenu\", \"direction\", \"description\", \"onClick\", \"component\", \"isDisabled\", \"isExternalLink\", \"isSelected\", \"isFocused\", \"isDanger\", \"icon\", \"actions\", \"onShowFlyout\", \"drilldownMenu\", \"isOnPath\", \"innerRef\"]);\n    const { menuId, parentMenu, onSelect, onActionClick, activeItemId, selected, drilldownItemPath, onDrillIn, onDrillOut, flyoutRef, setFlyoutRef, disableHover, role: menuRole } = React.useContext(MenuContext);\n    let Component = (to ? 'a' : component);\n    if (hasCheck && !to) {\n        Component = 'label';\n    }\n    const [flyoutTarget, setFlyoutTarget] = React.useState(null);\n    const flyoutContext = React.useContext(FlyoutContext);\n    const [flyoutXDirection, setFlyoutXDirection] = React.useState(flyoutContext.direction);\n    const ref = React.useRef();\n    const flyoutVisible = ref === flyoutRef;\n    const hasFlyout = flyoutMenu !== undefined;\n    const showFlyout = (show) => {\n        if (!flyoutVisible && show) {\n            setFlyoutRef(ref);\n        }\n        else if (flyoutVisible && !show) {\n            setFlyoutRef(null);\n        }\n        onShowFlyout && show && onShowFlyout();\n    };\n    useIsomorphicLayoutEffect(() => {\n        if (hasFlyout && ref.current && canUseDOM) {\n            const flyoutMenu = ref.current.lastElementChild;\n            if (flyoutMenu && flyoutMenu.classList.contains(styles.menu)) {\n                const origin = ref.current.getClientRects()[0];\n                const rect = flyoutMenu.getClientRects()[0];\n                if (origin && rect) {\n                    const spaceLeftLeft = origin.x - rect.width;\n                    const spaceLeftRight = window.innerWidth - origin.x - origin.width - rect.width;\n                    let xDir = flyoutXDirection;\n                    if (spaceLeftRight < 0 && xDir !== 'left') {\n                        setFlyoutXDirection('left');\n                        xDir = 'left';\n                    }\n                    else if (spaceLeftLeft < 0 && xDir !== 'right') {\n                        setFlyoutXDirection('right');\n                        xDir = 'right';\n                    }\n                    let xOffset = 0;\n                    if (spaceLeftLeft < 0 && spaceLeftRight < 0) {\n                        xOffset = xDir === 'right' ? -spaceLeftRight : -spaceLeftLeft;\n                    }\n                    if (xDir === 'left') {\n                        flyoutMenu.classList.add(styles.modifiers.left);\n                        flyoutMenu.style.setProperty(rightOffset.name, `-${xOffset}px`);\n                    }\n                    else {\n                        flyoutMenu.style.setProperty(leftOffset.name, `-${xOffset}px`);\n                    }\n                    const spaceLeftBot = window.innerHeight - origin.y - rect.height;\n                    const spaceLeftTop = window.innerHeight - rect.height;\n                    if (spaceLeftTop < 0 && spaceLeftBot < 0) {\n                        // working idea: page can usually scroll down, but not up\n                        // TODO: proper scroll buttons\n                    }\n                    else if (spaceLeftBot < 0) {\n                        flyoutMenu.style.setProperty(topOffset.name, `${spaceLeftBot}px`);\n                    }\n                }\n            }\n        }\n    }, [flyoutVisible, flyoutMenu]);\n    React.useEffect(() => {\n        setFlyoutXDirection(flyoutContext.direction);\n    }, [flyoutContext]);\n    React.useEffect(() => {\n        if (flyoutTarget) {\n            if (flyoutVisible) {\n                const flyoutMenu = flyoutTarget.nextElementSibling;\n                const flyoutItems = Array.from(flyoutMenu.getElementsByTagName('UL')[0].children).filter(el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider')));\n                flyoutItems[0].firstChild.focus();\n            }\n            else {\n                flyoutTarget.focus();\n            }\n        }\n    }, [flyoutVisible, flyoutTarget]);\n    const handleFlyout = (event) => {\n        const key = event.key;\n        const target = event.target;\n        const type = event.type;\n        if (key === ' ' || key === 'Enter' || key === 'ArrowRight' || type === 'click') {\n            event.stopPropagation();\n            event.preventDefault();\n            if (!flyoutVisible) {\n                showFlyout(true);\n                setFlyoutTarget(target);\n            }\n        }\n        if (key === 'Escape' || key === 'ArrowLeft') {\n            if (flyoutVisible) {\n                event.stopPropagation();\n                showFlyout(false);\n            }\n        }\n    };\n    const onItemSelect = (event, onSelect) => {\n        // Trigger callback for Menu onSelect\n        onSelect && onSelect(event, itemId);\n        // Trigger callback for item onClick\n        onClick && onClick(event);\n    };\n    const _isOnPath = (isOnPath && isOnPath) || (drilldownItemPath && drilldownItemPath.includes(itemId)) || false;\n    let drill;\n    if (direction) {\n        if (direction === 'down') {\n            drill = event => onDrillIn &&\n                onDrillIn(event, menuId, typeof drilldownMenu === 'function'\n                    ? drilldownMenu().props.id\n                    : drilldownMenu.props.id, itemId);\n        }\n        else {\n            drill = event => onDrillOut && onDrillOut(event, parentMenu, itemId);\n        }\n    }\n    let additionalProps = {};\n    if (Component === 'a') {\n        additionalProps = {\n            href: to,\n            'aria-disabled': isDisabled ? true : null,\n            // prevent invalid 'disabled' attribute on <a> tags\n            disabled: null\n        };\n    }\n    else if (Component === 'button') {\n        additionalProps = {\n            type: 'button'\n        };\n    }\n    if (isOnPath) {\n        additionalProps['aria-expanded'] = true;\n    }\n    else if (hasFlyout) {\n        additionalProps['aria-haspopup'] = 'menu';\n        additionalProps['aria-expanded'] = flyoutVisible;\n    }\n    const getAriaCurrent = () => {\n        if (isActive !== null) {\n            if (isActive) {\n                return 'page';\n            }\n            else {\n                return null;\n            }\n        }\n        else if (itemId !== null && activeItemId !== null) {\n            return itemId === activeItemId;\n        }\n        return null;\n    };\n    const getIsSelected = () => {\n        if (isSelected !== null) {\n            return isSelected;\n        }\n        else if (selected !== null && itemId !== null) {\n            return (Array.isArray(selected) && selected.includes(itemId)) || itemId === selected;\n        }\n        return false;\n    };\n    const onMouseOver = () => {\n        if (disableHover) {\n            return;\n        }\n        if (hasFlyout) {\n            showFlyout(true);\n        }\n        else {\n            setFlyoutRef(null);\n        }\n    };\n    const isSelectMenu = menuRole === 'listbox';\n    return (React.createElement(\"li\", Object.assign({ className: css(styles.menuListItem, isDisabled && styles.modifiers.disabled, _isOnPath && styles.modifiers.currentPath, isLoadButton && styles.modifiers.load, isLoading && styles.modifiers.loading, isFocused && styles.modifiers.focus, isDanger && styles.modifiers.danger, className), onMouseOver: onMouseOver }, (flyoutMenu && { onKeyDown: handleFlyout }), { ref: ref, role: !hasCheck ? 'none' : 'menuitem' }, props),\n        React.createElement(GenerateId, null, randomId => (React.createElement(Component, Object.assign({ tabIndex: -1, className: css(styles.menuItem, getIsSelected() && !hasCheck && styles.modifiers.selected, className), \"aria-current\": getAriaCurrent() }, (!hasCheck && { disabled: isDisabled }), (!hasCheck && !flyoutMenu && { role: isSelectMenu ? 'option' : 'menuitem' }), (!hasCheck && !flyoutMenu && isSelectMenu && { 'aria-selected': getIsSelected() }), { ref: innerRef }, (!hasCheck && {\n            onClick: (event) => {\n                onItemSelect(event, onSelect);\n                drill && drill(event);\n                flyoutMenu && handleFlyout(event);\n            }\n        }), (hasCheck && { htmlFor: randomId }), additionalProps),\n            React.createElement(\"span\", { className: css(styles.menuItemMain) },\n                direction === 'up' && (React.createElement(\"span\", { className: css(styles.menuItemToggleIcon) },\n                    React.createElement(AngleLeftIcon, { \"aria-hidden\": true }))),\n                icon && React.createElement(\"span\", { className: css(styles.menuItemIcon) }, icon),\n                hasCheck && (React.createElement(\"span\", { className: css('pf-c-menu__item-check') },\n                    React.createElement(Checkbox, { id: randomId, component: \"span\", isChecked: isSelected || false, onChange: event => onItemSelect(event, onSelect), isDisabled: isDisabled }))),\n                React.createElement(\"span\", { className: css(styles.menuItemText) }, children),\n                isExternalLink && (React.createElement(\"span\", { className: css(styles.menuItemExternalIcon) },\n                    React.createElement(ExternalLinkAltIcon, { \"aria-hidden\": true }))),\n                (flyoutMenu || direction === 'down') && (React.createElement(\"span\", { className: css(styles.menuItemToggleIcon) },\n                    React.createElement(AngleRightIcon, { \"aria-hidden\": true }))),\n                getIsSelected() && (React.createElement(\"span\", { className: css(styles.menuItemSelectIcon) },\n                    React.createElement(CheckIcon, { \"aria-hidden\": true })))),\n            description && direction !== 'up' && (React.createElement(\"span\", { className: css(styles.menuItemDescription) },\n                React.createElement(\"span\", null, description)))))),\n        flyoutVisible && (React.createElement(MenuContext.Provider, { value: { disableHover } },\n            React.createElement(FlyoutContext.Provider, { value: { direction: flyoutXDirection } }, flyoutMenu))),\n        typeof drilldownMenu === 'function' ? drilldownMenu() : drilldownMenu,\n        React.createElement(MenuItemContext.Provider, { value: { itemId, isDisabled } },\n            actions,\n            isFavorited !== null && (React.createElement(MenuItemAction, { icon: \"favorites\", isFavorited: isFavorited, \"aria-label\": isFavorited ? 'starred' : 'not starred', onClick: event => onActionClick(event, itemId), tabIndex: -1, actionId: \"fav\" })))));\n};\nexport const MenuItem = React.forwardRef((props, ref) => (React.createElement(MenuItemBase, Object.assign({}, props, { innerRef: ref }))));\nMenuItem.displayName = 'MenuItem';\n//# sourceMappingURL=MenuItem.js.map"]},"metadata":{},"sourceType":"module"}