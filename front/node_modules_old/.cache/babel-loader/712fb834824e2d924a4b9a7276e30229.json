{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Nav/nav';\nimport { css } from '@patternfly/react-styles';\nimport { NavContext } from './Nav';\nimport { PageSidebarContext } from '../Page/PageSidebar';\nimport { useOUIAProps } from '../../helpers';\nimport { Popper } from '../../helpers/Popper/Popper';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nexport const NavItem = _a => {\n  var {\n      children,\n      styleChildren = true,\n      className,\n      to,\n      isActive = false,\n      groupId = null,\n      itemId = null,\n      preventDefault = false,\n      onClick = null,\n      component = 'a',\n      flyout,\n      onShowFlyout,\n      ouiaId,\n      ouiaSafe,\n      removeFindDomNode = false,\n      zIndex = 9999\n    } = _a,\n    props = __rest(_a, [\"children\", \"styleChildren\", \"className\", \"to\", \"isActive\", \"groupId\", \"itemId\", \"preventDefault\", \"onClick\", \"component\", \"flyout\", \"onShowFlyout\", \"ouiaId\", \"ouiaSafe\", \"removeFindDomNode\", \"zIndex\"]);\n  const {\n    flyoutRef,\n    setFlyoutRef\n  } = React.useContext(NavContext);\n  const {\n    isNavOpen\n  } = React.useContext(PageSidebarContext);\n  const [flyoutTarget, setFlyoutTarget] = React.useState(null);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const ref = React.useRef();\n  const flyoutVisible = ref === flyoutRef;\n  const popperRef = React.useRef();\n  const hasFlyout = flyout !== undefined;\n  const Component = hasFlyout ? 'button' : component;\n  // A NavItem should not be both a link and a flyout\n  if (to && hasFlyout) {\n    // eslint-disable-next-line no-console\n    console.error('NavItem cannot have both \"to\" and \"flyout\" props.');\n  }\n  const showFlyout = (show, override) => {\n    if ((!flyoutVisible || override) && show) {\n      setFlyoutRef(ref);\n    } else if ((flyoutVisible || override) && !show) {\n      setFlyoutRef(null);\n    }\n    onShowFlyout && show && onShowFlyout();\n  };\n  const onMouseOver = event => {\n    const evtContainedInFlyout = event.target.closest('.pf-c-nav__item.pf-m-flyout');\n    if (hasFlyout && !flyoutVisible) {\n      showFlyout(true);\n    } else if (flyoutRef !== null && !evtContainedInFlyout) {\n      setFlyoutRef(null);\n    }\n  };\n  const onFlyoutClick = event => {\n    const target = event.target;\n    const closestItem = target.closest('.pf-m-flyout');\n    if (!closestItem) {\n      if (hasFlyout) {\n        showFlyout(false, true);\n      } else if (flyoutRef !== null) {\n        setFlyoutRef(null);\n      }\n    }\n  };\n  const handleFlyout = event => {\n    var _a, _b;\n    const key = event.key;\n    const target = event.target;\n    if ((key === ' ' || key === 'Enter' || key === 'ArrowRight') && hasFlyout && ((_a = ref === null || ref === void 0 ? void 0 : ref.current) === null || _a === void 0 ? void 0 : _a.contains(target))) {\n      event.stopPropagation();\n      event.preventDefault();\n      if (!flyoutVisible) {\n        showFlyout(true);\n        setFlyoutTarget(target);\n      }\n    }\n    // We only want the NavItem to handle closing a flyout menu if only the first level flyout is open.\n    // Otherwise, MenuItem should handle closing its flyouts\n    if ((key === 'Escape' || key === 'ArrowLeft') && ((_b = popperRef === null || popperRef === void 0 ? void 0 : popperRef.current) === null || _b === void 0 ? void 0 : _b.querySelectorAll('.pf-c-menu').length) === 1) {\n      if (flyoutVisible) {\n        event.stopPropagation();\n        event.preventDefault();\n        showFlyout(false);\n      }\n    }\n  };\n  React.useEffect(() => {\n    if (hasFlyout) {\n      window.addEventListener('click', onFlyoutClick);\n    }\n    return () => {\n      if (hasFlyout) {\n        window.removeEventListener('click', onFlyoutClick);\n      }\n    };\n  }, []);\n  React.useEffect(() => {\n    if (flyoutTarget) {\n      if (flyoutVisible) {\n        const flyoutItems = Array.from(popperRef.current.getElementsByTagName('UL')[0].children).filter(el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider')));\n        flyoutItems[0].firstChild.focus();\n      } else {\n        flyoutTarget.focus();\n      }\n    }\n  }, [flyoutVisible, flyoutTarget]);\n  const flyoutButton = React.createElement(\"span\", {\n    className: css(styles.navToggle)\n  }, React.createElement(\"span\", {\n    className: css(styles.navToggleIcon)\n  }, React.createElement(AngleRightIcon, {\n    \"aria-hidden\": true\n  })));\n  const ariaFlyoutProps = {\n    'aria-haspopup': 'menu',\n    'aria-expanded': flyoutVisible\n  };\n  const tabIndex = isNavOpen ? null : -1;\n  const renderDefaultLink = context => {\n    const preventLinkDefault = preventDefault || !to;\n    return React.createElement(Component, Object.assign({\n      href: to,\n      onClick: e => context.onSelect(e, groupId, itemId, to, preventLinkDefault, onClick),\n      className: css(styles.navLink, isActive && styles.modifiers.current, isHovered && styles.modifiers.hover, className),\n      \"aria-current\": isActive ? 'page' : null,\n      tabIndex: tabIndex\n    }, hasFlyout && Object.assign({}, ariaFlyoutProps), props), children, flyout && flyoutButton);\n  };\n  const renderClonedChild = (context, child) => React.cloneElement(child, Object.assign(Object.assign({\n    onClick: e => context.onSelect(e, groupId, itemId, to, preventDefault, onClick),\n    'aria-current': isActive ? 'page' : null\n  }, styleChildren && {\n    className: css(styles.navLink, isActive && styles.modifiers.current, child.props && child.props.className)\n  }), {\n    tabIndex: child.props.tabIndex || tabIndex,\n    children: hasFlyout ? React.createElement(React.Fragment, null, child.props.children, flyoutButton) : child.props.children\n  }));\n  const ouiaProps = useOUIAProps(NavItem.displayName, ouiaId, ouiaSafe);\n  const handleMouseEnter = () => {\n    setIsHovered(true);\n  };\n  const handleMouseLeave = () => {\n    setIsHovered(false);\n  };\n  const flyoutPopper = React.createElement(Popper, {\n    reference: ref,\n    popper: React.createElement(\"div\", {\n      ref: popperRef,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave\n    }, flyout),\n    placement: \"right-start\",\n    isVisible: flyoutVisible,\n    onDocumentKeyDown: handleFlyout,\n    removeFindDomNode: removeFindDomNode,\n    zIndex: zIndex\n  });\n  const navItem = React.createElement(React.Fragment, null, React.createElement(\"li\", Object.assign({\n    onMouseOver: onMouseOver,\n    className: css(styles.navItem, hasFlyout && styles.modifiers.flyout, className),\n    ref: ref\n  }, ouiaProps), React.createElement(NavContext.Consumer, null, context => React.isValidElement(children) ? renderClonedChild(context, children) : renderDefaultLink(context))), flyout && flyoutPopper);\n  return navItem;\n};\nNavItem.displayName = 'NavItem';","map":{"version":3,"sources":["../../../../src/components/Nav/NavItem.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Nav/nav';\nimport { css } from '@patternfly/react-styles';\nimport { NavContext } from './Nav';\nimport { PageSidebarContext } from '../Page/PageSidebar';\nimport { useOUIAProps } from '../../helpers';\nimport { Popper } from '../../helpers/Popper/Popper';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nexport const NavItem = (_a) => {\n    var { children, styleChildren = true, className, to, isActive = false, groupId = null, itemId = null, preventDefault = false, onClick = null, component = 'a', flyout, onShowFlyout, ouiaId, ouiaSafe, removeFindDomNode = false, zIndex = 9999 } = _a, props = __rest(_a, [\"children\", \"styleChildren\", \"className\", \"to\", \"isActive\", \"groupId\", \"itemId\", \"preventDefault\", \"onClick\", \"component\", \"flyout\", \"onShowFlyout\", \"ouiaId\", \"ouiaSafe\", \"removeFindDomNode\", \"zIndex\"]);\n    const { flyoutRef, setFlyoutRef } = React.useContext(NavContext);\n    const { isNavOpen } = React.useContext(PageSidebarContext);\n    const [flyoutTarget, setFlyoutTarget] = React.useState(null);\n    const [isHovered, setIsHovered] = React.useState(false);\n    const ref = React.useRef();\n    const flyoutVisible = ref === flyoutRef;\n    const popperRef = React.useRef();\n    const hasFlyout = flyout !== undefined;\n    const Component = hasFlyout ? 'button' : component;\n    // A NavItem should not be both a link and a flyout\n    if (to && hasFlyout) {\n        // eslint-disable-next-line no-console\n        console.error('NavItem cannot have both \"to\" and \"flyout\" props.');\n    }\n    const showFlyout = (show, override) => {\n        if ((!flyoutVisible || override) && show) {\n            setFlyoutRef(ref);\n        }\n        else if ((flyoutVisible || override) && !show) {\n            setFlyoutRef(null);\n        }\n        onShowFlyout && show && onShowFlyout();\n    };\n    const onMouseOver = (event) => {\n        const evtContainedInFlyout = event.target.closest('.pf-c-nav__item.pf-m-flyout');\n        if (hasFlyout && !flyoutVisible) {\n            showFlyout(true);\n        }\n        else if (flyoutRef !== null && !evtContainedInFlyout) {\n            setFlyoutRef(null);\n        }\n    };\n    const onFlyoutClick = (event) => {\n        const target = event.target;\n        const closestItem = target.closest('.pf-m-flyout');\n        if (!closestItem) {\n            if (hasFlyout) {\n                showFlyout(false, true);\n            }\n            else if (flyoutRef !== null) {\n                setFlyoutRef(null);\n            }\n        }\n    };\n    const handleFlyout = (event) => {\n        var _a, _b;\n        const key = event.key;\n        const target = event.target;\n        if ((key === ' ' || key === 'Enter' || key === 'ArrowRight') && hasFlyout && ((_a = ref === null || ref === void 0 ? void 0 : ref.current) === null || _a === void 0 ? void 0 : _a.contains(target))) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (!flyoutVisible) {\n                showFlyout(true);\n                setFlyoutTarget(target);\n            }\n        }\n        // We only want the NavItem to handle closing a flyout menu if only the first level flyout is open.\n        // Otherwise, MenuItem should handle closing its flyouts\n        if ((key === 'Escape' || key === 'ArrowLeft') && ((_b = popperRef === null || popperRef === void 0 ? void 0 : popperRef.current) === null || _b === void 0 ? void 0 : _b.querySelectorAll('.pf-c-menu').length) === 1) {\n            if (flyoutVisible) {\n                event.stopPropagation();\n                event.preventDefault();\n                showFlyout(false);\n            }\n        }\n    };\n    React.useEffect(() => {\n        if (hasFlyout) {\n            window.addEventListener('click', onFlyoutClick);\n        }\n        return () => {\n            if (hasFlyout) {\n                window.removeEventListener('click', onFlyoutClick);\n            }\n        };\n    }, []);\n    React.useEffect(() => {\n        if (flyoutTarget) {\n            if (flyoutVisible) {\n                const flyoutItems = Array.from(popperRef.current.getElementsByTagName('UL')[0].children).filter(el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider')));\n                flyoutItems[0].firstChild.focus();\n            }\n            else {\n                flyoutTarget.focus();\n            }\n        }\n    }, [flyoutVisible, flyoutTarget]);\n    const flyoutButton = (React.createElement(\"span\", { className: css(styles.navToggle) },\n        React.createElement(\"span\", { className: css(styles.navToggleIcon) },\n            React.createElement(AngleRightIcon, { \"aria-hidden\": true }))));\n    const ariaFlyoutProps = {\n        'aria-haspopup': 'menu',\n        'aria-expanded': flyoutVisible\n    };\n    const tabIndex = isNavOpen ? null : -1;\n    const renderDefaultLink = (context) => {\n        const preventLinkDefault = preventDefault || !to;\n        return (React.createElement(Component, Object.assign({ href: to, onClick: (e) => context.onSelect(e, groupId, itemId, to, preventLinkDefault, onClick), className: css(styles.navLink, isActive && styles.modifiers.current, isHovered && styles.modifiers.hover, className), \"aria-current\": isActive ? 'page' : null, tabIndex: tabIndex }, (hasFlyout && Object.assign({}, ariaFlyoutProps)), props),\n            children,\n            flyout && flyoutButton));\n    };\n    const renderClonedChild = (context, child) => React.cloneElement(child, Object.assign(Object.assign({ onClick: (e) => context.onSelect(e, groupId, itemId, to, preventDefault, onClick), 'aria-current': isActive ? 'page' : null }, (styleChildren && {\n        className: css(styles.navLink, isActive && styles.modifiers.current, child.props && child.props.className)\n    })), { tabIndex: child.props.tabIndex || tabIndex, children: hasFlyout ? (React.createElement(React.Fragment, null,\n            child.props.children,\n            flyoutButton)) : (child.props.children) }));\n    const ouiaProps = useOUIAProps(NavItem.displayName, ouiaId, ouiaSafe);\n    const handleMouseEnter = () => {\n        setIsHovered(true);\n    };\n    const handleMouseLeave = () => {\n        setIsHovered(false);\n    };\n    const flyoutPopper = (React.createElement(Popper, { reference: ref, popper: React.createElement(\"div\", { ref: popperRef, onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave }, flyout), placement: \"right-start\", isVisible: flyoutVisible, onDocumentKeyDown: handleFlyout, removeFindDomNode: removeFindDomNode, zIndex: zIndex }));\n    const navItem = (React.createElement(React.Fragment, null,\n        React.createElement(\"li\", Object.assign({ onMouseOver: onMouseOver, className: css(styles.navItem, hasFlyout && styles.modifiers.flyout, className), ref: ref }, ouiaProps),\n            React.createElement(NavContext.Consumer, null, context => React.isValidElement(children)\n                ? renderClonedChild(context, children)\n                : renderDefaultLink(context))),\n        flyout && flyoutPopper));\n    return navItem;\n};\nNavItem.displayName = 'NavItem';\n//# sourceMappingURL=NavItem.js.map"]},"metadata":{},"sourceType":"module"}